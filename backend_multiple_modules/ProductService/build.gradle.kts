import org.jetbrains.kotlin.gradle.tasks.KotlinCompile

plugins {
    id("org.springframework.boot") version "2.4.0"
    id("io.spring.dependency-management") version "1.0.10.RELEASE"
    kotlin("jvm") version "1.4.10"
    kotlin("plugin.spring") version "1.4.10"
}

group = "pers.wzr"
version = "2.0"
java.sourceCompatibility = JavaVersion.VERSION_11

configurations {
    compileOnly {
        extendsFrom(configurations.annotationProcessor.get())
    }
}

repositories {
    mavenCentral()
}

dependencies {
    implementation("org.springframework.boot:spring-boot-starter-data-mongodb-reactive")
    implementation("org.springframework.boot:spring-boot-starter-webflux")
    implementation("com.fasterxml.jackson.module:jackson-module-kotlin")
    implementation("io.projectreactor.kotlin:reactor-kotlin-extensions")
    implementation("org.jetbrains.kotlin:kotlin-reflect")
    implementation("org.jetbrains.kotlin:kotlin-stdlib-jdk8")
    implementation("org.jetbrains.kotlinx:kotlinx-coroutines-reactor")
    developmentOnly("org.springframework.boot:spring-boot-devtools")
    annotationProcessor("org.springframework.boot:spring-boot-configuration-processor")
    testImplementation("org.springframework.boot:spring-boot-starter-test")
    testImplementation("io.projectreactor:reactor-test")
}

tasks.withType<KotlinCompile> {
    kotlinOptions {
        freeCompilerArgs = listOf("-Xjsr305=strict","-cp","/home/bl/Documents/Program/Easymall/backend/ProductService/build/classes/kotlin/main:/home/bl/Documents/Program/Easymall/backend/ProductService/build/resources/main:/home/bl/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-configuration-processor/2.4.0/b905dd39e8378dba388bc0c91dc0d59b78101bbb/spring-boot-configuration-processor-2.4.0.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-starter-data-mongodb-reactive/2.4.0/76e3868bb12b19a727c132f45acc72bf6e4bfa9a/spring-boot-starter-data-mongodb-reactive-2.4.0.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-starter-webflux/2.4.0/566ff0b0b4faf1bad1a1113c22a2a5163474c7d3/spring-boot-starter-webflux-2.4.0.jar:/home/bl/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.module/jackson-module-kotlin/2.11.3/ad8d29545c5ab0cdd6d49ee38f7ece8d9f772815/jackson-module-kotlin-2.11.3.jar:/home/bl/.gradle/caches/modules-2/files-2.1/io.projectreactor.kotlin/reactor-kotlin-extensions/1.1.0/d7490007744eb445e3db9111704bda7d8abd1f8d/reactor-kotlin-extensions-1.1.0.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-reflect/1.4.10/e2b3c6695eee6085e606d96d685396dce23a3a06/kotlin-reflect-1.4.10.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-coroutines-reactor/1.4.1/6134f8658e441fdd859fadd638f85adc555cc86b/kotlinx-coroutines-reactor-1.4.1.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk8/1.4.10/998caa30623f73223194a8b657abd2baec4880ea/kotlin-stdlib-jdk8-1.4.10.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-starter/2.4.0/26162567b7644e6d245b9d8dcf6fd4efb2bf74f4/spring-boot-starter-2.4.0.jar:/home/bl/.gradle/caches/modules-2/files-2.1/io.projectreactor/reactor-core/3.4.0/683c9c676c438e5945b0f12808575f22160c5e54/reactor-core-3.4.0.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.mongodb/mongodb-driver-reactivestreams/4.1.1/2623286fa67c23a03e8c522cf2f1c4207c170b54/mongodb-driver-reactivestreams-4.1.1.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.springframework.data/spring-data-mongodb/3.1.1/cfb8d2af769a3d57b80b6dc2f622007682e4dd0a/spring-data-mongodb-3.1.1.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-starter-json/2.4.0/e688a97ab229ae5a4a0c3ccb3f4419c9457a25b6/spring-boot-starter-json-2.4.0.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.springframework/spring-webflux/5.3.1/49c0194e5398a3f0b667b46529f92f77c38ad120/spring-webflux-5.3.1.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-starter-reactor-netty/2.4.0/8810fb38f581a08865165d5b0a842303449bbeb3/spring-boot-starter-reactor-netty-2.4.0.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.springframework/spring-web/5.3.1/4e1e1d1c6b5a00597162db84132414c409bcf615/spring-web-5.3.1.jar:/home/bl/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.core/jackson-databind/2.11.3/4f7b27416934dc929bb6c2d2c5fe521829e6a4ec/jackson-databind-2.11.3.jar:/home/bl/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.core/jackson-annotations/2.11.3/25d4e9c777e7a8805c4a000a8629d3009c779c9b/jackson-annotations-2.11.3.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.4.10/ea29e063d2bbe695be13e9d044dcfb0c7add398e/kotlin-stdlib-1.4.10.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-coroutines-reactive/1.4.1/20b2855788efa0c1a7d4ae6e5b9b15f43bc707d5/kotlinx-coroutines-reactive-1.4.1.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk7/1.4.10/30e46450b0bb3dbf43898d2f461be4a942784780/kotlin-stdlib-jdk7-1.4.10.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-autoconfigure/2.4.0/e1f7cd3b65e4706fbe3160c76f5815d4dbc79915/spring-boot-autoconfigure-2.4.0.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot/2.4.0/d8c0caa04526c8cc1dfcbb9c5badae3c99c49884/spring-boot-2.4.0.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-starter-logging/2.4.0/4f1ba27a364170a26bbd448b14ba3907d21f2154/spring-boot-starter-logging-2.4.0.jar:/home/bl/.gradle/caches/modules-2/files-2.1/jakarta.annotation/jakarta.annotation-api/1.3.5/59eb84ee0d616332ff44aba065f3888cf002cd2d/jakarta.annotation-api-1.3.5.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.springframework/spring-core/5.3.1/47af5b161749cd249fc074b4f140e011a3337efd/spring-core-5.3.1.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.yaml/snakeyaml/1.27/359d62567480b07a679dc643f82fc926b100eed5/snakeyaml-1.27.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.reactivestreams/reactive-streams/1.0.3/d9fb7a7926ffa635b3dcaa5049fb2bfa25b3e7d0/reactive-streams-1.0.3.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.mongodb/mongodb-driver-core/4.1.1/8604ac94a1f0ee7534543c9a5d6c3732b6776cde/mongodb-driver-core-4.1.1.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.mongodb/bson/4.1.1/ff6bfa9529c34814479df5a78a2a2fbb79abc574/bson-4.1.1.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.springframework/spring-tx/5.3.1/191e436f0b526fbe8f3cebdfd7dc048a3e1106fc/spring-tx-5.3.1.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.springframework/spring-context/5.3.1/736836c8098981ddabd309a0c15f967594da62bc/spring-context-5.3.1.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.springframework.data/spring-data-commons/2.4.1/1f3e6d1a09a0495043d26a16e626b898473f3d91/spring-data-commons-2.4.1.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.springframework/spring-beans/5.3.1/a4bb5ffad5564e4a0e25955e3a40b1c6158385b2/spring-beans-5.3.1.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.springframework/spring-expression/5.3.1/aee660842a21fbf49f6e5921aa07974f1650c498/spring-expression-5.3.1.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.slf4j/slf4j-api/1.7.30/b5a4b6d16ab13e34a88fae84c35cd5d68cac922c/slf4j-api-1.7.30.jar:/home/bl/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.datatype/jackson-datatype-jdk8/2.11.3/dcdfce3e4af9da18d69b1be6f3d7c91256105831/jackson-datatype-jdk8-2.11.3.jar:/home/bl/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.datatype/jackson-datatype-jsr310/2.11.3/dd53d93fd448b345eeb75bec336d9c91dc56b796/jackson-datatype-jsr310-2.11.3.jar:/home/bl/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.module/jackson-module-parameter-names/2.11.3/ab66d5c5b8008161ae89be8a3d98efff9ef1b915/jackson-module-parameter-names-2.11.3.jar:/home/bl/.gradle/caches/modules-2/files-2.1/io.projectreactor.netty/reactor-netty-http/1.0.1/1842c244c1d34d17a2b5a96e116af3448753189e/reactor-netty-http-1.0.1.jar:/home/bl/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.core/jackson-core/2.11.3/c2351800432bdbdd8284c3f5a7f0782a352aa84a/jackson-core-2.11.3.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.4.10/6229be3465805c99db1142ad75e6c6ddeac0b04c/kotlin-stdlib-common-1.4.10.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.jetbrains/annotations/13.0/919f0dfe192fb4e063e7dacadee7f8bb9a2672a9/annotations-13.0.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-coroutines-core-jvm/1.4.1/936067d1e0195f638396f60e71da745bb14a35ca/kotlinx-coroutines-core-jvm-1.4.1.jar:/home/bl/.gradle/caches/modules-2/files-2.1/ch.qos.logback/logback-classic/1.2.3/7c4f3c474fb2c041d8028740440937705ebb473a/logback-classic-1.2.3.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.apache.logging.log4j/log4j-to-slf4j/2.13.3/966f6fd1af4959d6b12bfa880121d4a2b164f857/log4j-to-slf4j-2.13.3.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.slf4j/jul-to-slf4j/1.7.30/d58bebff8cbf70ff52b59208586095f467656c30/jul-to-slf4j-1.7.30.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.springframework/spring-jcl/5.3.1/1158888aa7517f8997eb43afe47776d9d2de8a38/spring-jcl-5.3.1.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.springframework/spring-aop/5.3.1/25c310880484082ffba3130deb8e10c5afb29f10/spring-aop-5.3.1.jar:/home/bl/.gradle/caches/modules-2/files-2.1/io.projectreactor.netty/reactor-netty-core/1.0.1/d3b6861cd9cd8b1e3387f14d80eb9c6724fd052b/reactor-netty-core-1.0.1.jar:/home/bl/.gradle/caches/modules-2/files-2.1/io.netty/netty-codec-http2/4.1.54.Final/327a4ae62b0a41cdf02f610f06eb353f10c17ef8/netty-codec-http2-4.1.54.Final.jar:/home/bl/.gradle/caches/modules-2/files-2.1/io.netty/netty-codec-http/4.1.54.Final/70eb9509289d1cee549cf12bae71929d1a4a12c7/netty-codec-http-4.1.54.Final.jar:/home/bl/.gradle/caches/modules-2/files-2.1/io.netty/netty-resolver-dns/4.1.54.Final/7d7a3cf2a9ed327c713cf593c7ba4bf9d9bfb072/netty-resolver-dns-4.1.54.Final.jar:/home/bl/.gradle/caches/modules-2/files-2.1/io.netty/netty-transport-native-epoll/4.1.54.Final/e351768ffd4f5210698bbd534511fc8fc89c6b/netty-transport-native-epoll-4.1.54.Final-linux-x86_64.jar:/home/bl/.gradle/caches/modules-2/files-2.1/ch.qos.logback/logback-core/1.2.3/864344400c3d4d92dfeb0a305dc87d953677c03c/logback-core-1.2.3.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.apache.logging.log4j/log4j-api/2.13.3/ec1508160b93d274b1add34419b897bae84c6ca9/log4j-api-2.13.3.jar:/home/bl/.gradle/caches/modules-2/files-2.1/io.netty/netty-handler-proxy/4.1.54.Final/8fa9d18b09a8a79bf64e8bc1bd775cbd77277199/netty-handler-proxy-4.1.54.Final.jar:/home/bl/.gradle/caches/modules-2/files-2.1/io.netty/netty-handler/4.1.54.Final/e83dfe8ebe3622d2cd5cce8532a9ca49cad51e9/netty-handler-4.1.54.Final.jar:/home/bl/.gradle/caches/modules-2/files-2.1/io.netty/netty-codec/4.1.54.Final/295680345b12a86c21fa7af5d9a77e0e0fcff46a/netty-codec-4.1.54.Final.jar:/home/bl/.gradle/caches/modules-2/files-2.1/io.netty/netty-transport/4.1.54.Final/ddb9a255819b87b8812932d1d1001f4d9dc7f89e/netty-transport-4.1.54.Final.jar:/home/bl/.gradle/caches/modules-2/files-2.1/io.netty/netty-buffer/4.1.54.Final/15c513ef8a2e56e88d3736752ea10eae758f47d8/netty-buffer-4.1.54.Final.jar:/home/bl/.gradle/caches/modules-2/files-2.1/io.netty/netty-common/4.1.54.Final/8c330383cda87204ab38e7401ab0f56c0d43b799/netty-common-4.1.54.Final.jar:/home/bl/.gradle/caches/modules-2/files-2.1/io.netty/netty-codec-dns/4.1.54.Final/886c9875a8360f5b3495960ec8be9af3632431f9/netty-codec-dns-4.1.54.Final.jar:/home/bl/.gradle/caches/modules-2/files-2.1/io.netty/netty-resolver/4.1.54.Final/7eed781e7531b990f8360e1a5010b53ca73878f5/netty-resolver-4.1.54.Final.jar:/home/bl/.gradle/caches/modules-2/files-2.1/io.netty/netty-transport-native-unix-common/4.1.54.Final/ac7d48202cf62c8d51abe89f228d338a41cb49cd/netty-transport-native-unix-common-4.1.54.Final.jar:/home/bl/.gradle/caches/modules-2/files-2.1/io.netty/netty-codec-socks/4.1.54.Final/8f8239e989e80cd470eaea90ee5746dbf24f5b8e/netty-codec-socks-4.1.54.Final.jar:/home/bl/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-devtools/2.4.0/c5db16eb1454c26665bc61cd21c3f654714e0ff4/spring-boot-devtools-2.4.0.jar:/home/bl/Documents/Program/Easymall/backend/Commons/build/classes/kotlin/main")
        jvmTarget = "11"
    }
}

tasks.withType<Test> {
    useJUnitPlatform()
}
